<div class="container feed-container my-4">
  <div class="feed-posts mt-4">
    <!-- Single Post -->
    <div
      *ngFor="let post of posts"
      class="feed-post bg-white p-3 shadow-sm rounded mb-4"
    >
      <!-- Post Header -->
      <div class="d-flex align-items-center mb-2">
        <img
          [src]="post.userAvatar"
          alt="User Avatar"
          class="rounded-circle me-2"
          style="width: 40px; height: 40px"
        />
        <div>
          <h6 class="mb-0">{{ post.userName }}</h6>
          <small class="text-muted">{{ post.timeAgo }}</small>
        </div>
      </div>
      <!-- Post Content -->
      <p>{{ post.content }}</p>
      <img
        *ngFor="let image of post.postImage"
        [src]="image"
        alt="Post Image"
        class="img-fluid rounded mb-2"
      />
      <!-- Post Actions -->
      <div class="d-flex justify-content-between mt-3">
        <button class="btn btn-sm text-muted">
          <i class="far fa-thumbs-up"></i> Like ({{ post.likes }})
        </button>
        <button class="btn btn-sm text-muted" (click)="toggleComments(post)">
          <i class="far fa-comment"></i> Comment
        </button>
        <button class="btn btn-sm text-muted">
          <i class="fas fa-share"></i> Share ({{ post.shares }})
        </button>
      </div>
      <!-- Comments Section -->
      <div class="mt-3" *ngIf="post.showComments">
        <div
          *ngFor="let comment of post.comments"
          class="comment bg-light p-2 rounded mb-2"
        >
          <div class="d-flex align-items-center mb-2">
            <img
              [src]="comment.userAvatar"
              alt="User Avatar"
              class="rounded-circle me-2"
              style="width: 30px; height: 30px"
            />
            <div>
              <h6 class="mb-0">{{ comment.userName }}</h6>
              <small class="text-muted">{{ comment.timeAgo }}</small>
            </div>
          </div>
          <p>{{ comment.content }}</p>
          <div class="d-flex justify-content-between">
            <button class="btn btn-sm text-muted">
              <i class="far fa-thumbs-up"></i> Like ({{ comment.likes }})
            </button>
            <button class="btn btn-sm text-muted">
              <i class="far fa-comment"></i> Reply
            </button>
          </div>
          <!-- Nested Comments Section -->
          <div class="mt-2 ms-4">
            <div
              *ngFor="let nestedComment of comment.comments"
              class="reply bg-white p-2 rounded mb-2"
            >
              <div class="d-flex align-items-center mb-2">
                <img
                  [src]="nestedComment.userAvatar"
                  alt="User Avatar"
                  class="rounded-circle me-2"
                  style="width: 25px; height: 25px"
                />
                <div>
                  <h6 class="mb-0">{{ nestedComment.userName }}</h6>
                  <small class="text-muted">{{ nestedComment.timeAgo }}</small>
                </div>
              </div>
              <p>{{ nestedComment.content }}</p>
              <div class="d-flex justify-content-between">
                <button class="btn btn-sm text-muted">
                  <i class="far fa-thumbs-up"></i> Like ({{
                    nestedComment.likes
                  }})
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
